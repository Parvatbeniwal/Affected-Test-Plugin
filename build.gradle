//plugins {
//    id("java")
//    id("org.jetbrains.intellij") version "1.17.3"
//}
//
//group = "com.your"
//version = "1.0-SNAPSHOT"
//
//repositories {
//    mavenCentral()
//}
//
//dependencies {
//    implementation("org.jetbrains:annotations:24.0.1")
//    testImplementation("org.junit.jupiter:junit-jupiter-api:5.7.1")
//    testRuntimeOnly("org.junit.jupiter:junit-jupiter-engine:5.7.1")
//}
//
//intellij {
//    version.set("2023.1")
//    plugins.set(listOf("java"))
//}
//
//tasks.withType<JavaCompile> {
//    options.encoding = "UTF-8"
//}
//
//tasks.test {
//    useJUnitPlatform()
//}
//
//tasks.named("buildSearchableOptions").configure {
//    enabled = false
//}
//
//tasks {
//    runIde {
//        jvmArgs("-Xmx1024m")
//    }
//}




//plugins {
//    id("java")
//    id("org.jetbrains.intellij") version "1.17.3"
//}
//
//group = "com.your"
//version = "1.0-SNAPSHOT"
//
//repositories {
//    mavenCentral()
//    maven {
//        url = uri("https://jitpack.io")
//    }
//}
//
//dependencies{
//    implementation ("com.github.javaparser:javaparser-core:3.25.10")
//}
//
//intellij {
//    version.set("2023.2.6")
//    type.set("IC") // Target IDE Platform
//
//    plugins.set(listOf("java"))
//}
//
//tasks {
//    // Set the JVM compatibility versions
//    withType<JavaCompile> {
//        sourceCompatibility = "17"
//        targetCompatibility = "17"
//    }
//
//    patchPluginXml {
//        sinceBuild.set("232")
//        untilBuild.set("242.*")
//    }
//
//    signPlugin {
//        certificateChain.set(System.getenv("CERTIFICATE_CHAIN"))
//        privateKey.set(System.getenv("PRIVATE_KEY"))
//        password.set(System.getenv("PRIVATE_KEY_PASSWORD"))
//    }
//
//    publishPlugin {
//        token.set(System.getenv("PUBLISH_TOKEN"))
//    }
//}


plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '1.17.3'
}

group = 'com.your'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    implementation 'com.github.javaparser:javaparser-core:3.25.10'
    implementation('org.eclipse.jgit:org.eclipse.jgit:5.13.0.202109080827-r') {
        exclude group: 'org.slf4j', module: 'slf4j-api'
        exclude group: 'org.slf4j', module: 'slf4j-log4j12'
    }
    implementation 'org.jetbrains:annotations:23.0.0'
    compileOnly 'com.jetbrains:ideaIC:2023.2.6'
}

intellij {
    version.set '2023.2.6'
    type.set 'IC' // Target IDE Platform
    plugins = ['java','JUnit']
}

tasks.withType(JavaCompile) {
    sourceCompatibility = '17'
    targetCompatibility = '17'
}

patchPluginXml {
    sinceBuild = '232'
    untilBuild = '242.*'
}

signPlugin {
    certificateChain = System.getenv('CERTIFICATE_CHAIN')
    privateKey = System.getenv('PRIVATE_KEY')
    password = System.getenv('PRIVATE_KEY_PASSWORD')
}

publishPlugin {
    token = System.getenv('PUBLISH_TOKEN')
}
